---
title: "The Birds of Corhaven"
author: "Evelyn Yarzebinski & Kevin Soo"
output:
  pagedown::html_paged:
    toc: true
    toc_title: false
    number_sections: false
    chapter_name: false
---
```{r message=FALSE, echo=FALSE}
# Load libraries
library(tidyverse)
library(glue)
library(pagedown)

# Load data
df <- read_csv("tmp/corhaven_unique_birds_season_2022-02-08.csv",
               show_col_types = F) |> 
  select(-url, -photo, -description, -percent) |> 
  mutate(typicalSeason = as_factor(typicalSeason) |> 
           fct_relevel("Advent", "Christmas", "Epiphany", "Lent", "Easter", "Ordinary Time")) |> 
  group_by(birdFamily, comName, speciesCode) |> 
  summarize(typicalSeason = str_c(typicalSeason, collapse = ", "))

ebird <- read_csv("ebird_data.csv",
                  show_col_type = F) |> 
  mutate(photo_path = glue("photos/{speciesCode}.png"))

fam <- read_csv("bird-family-reflections.csv",
                show_col_types = F)

# Join dataframes
df <- df |> 
  left_join(ebird) 
```

##  {.page-break-before}

To Micah. May your early, wide-eyed wonder at the outdoors grow to include birds one day. -e

## Preface {.page-break-before}

We had the privilege of participating in the Coracle Fellowship in 2021. This field guide is our final project, borne out of the love, care, and reflection stimulated by that community.

Evelyn came up with the idea for this field guide after encountering some difficulties using a field guide as a novice birder. What if field guides could be more localized? Evelyn and Kevin, both data scientists, discussed how to bring this idea to light. We collaborated on writing code to query `eBird.org`, a citizen scientist website where birders can report their bird sightings and contribute to the overall understanding of birds and their behaviors. Our code downloaded all recorded observations of birds within a 5 kilometer radius of Corhaven in Quickburg, VA within the last 10 years. Evelyn wrote code to summarize and determine when each bird species tended to be observed near Corhaven in each season of the Christian liturgical calendar. Kevin wrote code to pull all of this together into this book.

Note that other than the code and reflections that underlie this guide, all other content - including bird descriptions and photos - comes from various sources, including Cornell University's eBird.org, National Geographic, and PBS. Birding, like Christianity, has a long history with many helpful contributions and perspectives from many individuals along the way. While innovation can be useful, it is often encouraged to discover and reference what others who have gone before have toiled to produce.

-e

# Part 1: On birding {.page-break-before}

## Introduction {.page-break-before}

It is no stretch to say that birding saved our lives. In 2020, like many others, we found ourselves stuck at home and struggling through darkness. Watching the passage of time from the same window, we first started to notice the appearance of different kinds of birds and then their reappearances. 

What were formerly "birds" to us acquired distinct personalities, colors, and sounds. They were named, they were known, and we saw that they were good. 

-k

## A note on Corhaven {.page-break-before}

Coracle is a community, but it is also tied to a physical space.
What region?

-k

## Birding as spiritual practice {.page-break-before}

Easter Meadowlark is the only Advent bird - waiting season!
Helps us keep track of time, being in tune with God

-k

## Birding as virtue formation {.page-break-before}

In which we acquire virtue.

## A note on the guide {.page-break-before}

Unlike other bird field guides, one innovation we included here is each entry includes the Christian liturgical season(s) in which they most commonly occur. We found this to be a surprisingly fitting, and we hope you agree. 

Creating an authoritative hyper-localized bird guide is a Sisyphean task: as soon as a new version is ready,  there will be weather systems, climate change, or other environmental factors that will influence the birds you may see in that area. You may not see the birds you expect to see, and you may even see birds you did not expect to see. Therefore, this guide was not designed to be authoritative. This guide is a combination of birds that either we have personally observed in the Corhaven area, or that other have reported observing on eBird.org. Your own mileage may vary.

... add note about seasons

-e 

# Part 2: Field guide {.page-break-before}

```{r echo=FALSE, results='asis'}
fam_template <- "\\newpage ## %s {data-short-title=''}

-----------------

%s

"

species_template <- "\\newpage ### %s {.unlisted}

![](%s){width=60%%}

%s

*Typical seasons: %s*

"

# for (i in seq(nrow(input))) {
#   current <- input[i, ]
#   cat(sprintf(template, current$name, current$data, current$text))
# }

for (i in fam$birdFamily) {
    
    # Get current bird family
    fam_current <- i
    
    # Get all species within bird family
    fam_species <- df |>
      filter(birdFamily == fam_current)
    
    # Get bird family reflection
    fam_reflection <- fam |>
      filter(birdFamily == i) |>
      pull(reflection)
    
    # Print bird family section header
    cat(sprintf(fam_template, fam_current, fam_reflection))
    
    # For all species within family, print an entry
    for (j in 1:nrow(fam_species)) {
      cat(sprintf(species_template, 
                  fam_species$comName[j], 
                  fam_species$photo_path[j],
                  fam_species$description[j],
                  fam_species$typicalSeason[j]
                  )
          )
      }
}
```